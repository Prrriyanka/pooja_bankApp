<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" 
th:replace="~{Base::layout(~{::section})}">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Register</title>
   
</head>
<body>
	<section>
<div class="center-container">
	<div class="custom-container_login">
		
		<!-- Display error message if it exists -->
		                <div th:if="${errorMessage}" class="alert alert-danger" role="alert">
		                    <p th:text="${errorMessage}"></p>
		                </div>
		
		
    <form th:object="${user}" th:action="@{/do_register}" method="post">
		
		<div class="mb-3">           
		 <label for="fname" class="form-label">Name<span class="text-danger"> *</span></label>
            <input type="text" th:name="fname" 
			th:value="${user.fname}"
			th:classappend="${#fields.hasErrors('fname')?'is-invalid':''}"
			class="form-control long-input" id="fname">
			
			<div class="invalid-feedback"
		 		th:each="e : ${#fields.errors('fname')}"  
		 		th:text = "${e}">
		 	</div>
		 </div>
				
        <div class="mb-3">
            <label for="email" class="form-label">Email address<span class="text-danger"> *</span></label>
            <input type="email" 
			th:name="email"
			th:value="${user.email}" 
			th:classappend="${#fields.hasErrors('email')?'is-invalid':''}"			
			class="form-control" id="email" name="email" > 
			
			<div class="invalid-feedback"
		 		th:each="e : ${#fields.errors('email')}"  
		 		th:text = "${e}">
 </div>  
</div>
		<div class="mb-3">
		            <label for="DOB" class="form-label">DOB	<span class="text-danger"> *</span></label>
		            <input type="date" 
					th:name="DOB"
					th:classappend="${#fields.hasErrors('DOB')?'is-invalid':''}"
					th:value="${user.DOB}" 
					class="form-control" id="DOB" name="DOB" >  
					<div class="invalid-feedback"
					 		th:each="e : ${#fields.errors('DOB')}"  
					 		th:text = "${e}">
			 </div> 
		</div>
		
		<div class="mb-3">
			<label for="gender" class="form-label">Gender <span class="text-danger"> *</span></label> 
					<select class="form-select" 
							id="gender" 
							name="gender"
							th:value="${user.gender}"
							th:classappend="${#fields.hasErrors('gender')?'is-invalid':''}"													
							>
						<option selected disabled>Select</option>
						<option>Male</option>
						<option>Female</option>
						<option>Non-Binary</option>
					</select>
					<div class="invalid-feedback"
						 		th:each="e : ${#fields.errors('gender')}"  
						 		th:text = "${e}">
				 </div>
				 </div>

        <div class="mb-3">
            <label for="password" class="form-label">Password<span class="text-danger"> *</span></label>
            <input type="password" 
			th:name="password"
			th:value="${user.password}" 
			th:classappend="${#fields.hasErrors('password')?'is-invalid':''}"													
			class="form-control" 
			name="password"
			id="password" >
			<div class="invalid-feedback"
				 		th:each="e : ${#fields.errors('password')}"  
				 		th:text = "${e}">
		 </div>
			
        </div>
		<div class="mb-3">
		          <label for="cpassword" class="form-label">Confirm Password<span class="text-danger"> *</span></label>
		          <input type="password" 
				th:name="cpassword"
				th:value="${user.cpassword}" 
				class="form-control" 
				name="cpassword"
				th:classappend="${#fields.hasErrors('cpassword')?'is-invalid':''}"													
				id="cpassword" aria-describedby="passwordHelp">
				<div class="invalid-feedback"
										 		th:each="e : ${#fields.errors('cpassword')}"  
										 		th:text = "${e}">
								 </div>
				<div id="passwordHelp" class="form-text">never share your passsword with anyone else.</div>
		      </div>
        <button type="submit" class="btn btn-primary">Register</button>
    </form>
	</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</section>
</body>
</html>
